(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["pages-complaintDetail-complaintDetail"],{"999f":function(t,i,e){"use strict";e.r(i);var s=e("c817"),a=e("f720");for(var n in a)"default"!==n&&function(t){e.d(i,t,(function(){return a[t]}))}(n);var c,u=e("f0c5"),o=Object(u["a"])(a["default"],s["b"],s["c"],!1,null,"6fec9ff1",null,!1,s["a"],c);i["default"]=o.exports},c817:function(t,i,e){"use strict";var s,a=function(){var t=this,i=t.$createElement,e=t._self._c||i;return e("v-uni-view",[e("v-uni-view",{staticClass:"padding margin-top"},[e("v-uni-text",[t._v("订单信息")])],1),e("v-uni-view",{staticClass:"cu-list menu"},[e("v-uni-view",{staticClass:"cu-item"},[e("v-uni-view",{staticClass:"content"},[e("v-uni-text",{staticClass:"cuIcon-edit text-green"}),e("v-uni-text",{staticClass:"text-grey"},[t._v("投诉编码")])],1),e("v-uni-view",{staticClass:"action"},[e("v-uni-text",{staticClass:"text-grey text-sm"},[t._v(t._s(t.complaint.complaintId))])],1)],1),e("v-uni-view",{staticClass:"cu-item"},[e("v-uni-view",{staticClass:"content"},[e("v-uni-text",{staticClass:"cuIcon-ticket text-green"}),e("v-uni-text",{staticClass:"text-grey"},[t._v("房屋编码")])],1),e("v-uni-view",{staticClass:"action"},[e("v-uni-text",{staticClass:"text-grey text-sm"},[t._v(t._s(t.complaint.floorNum)+"号楼"+t._s(t.complaint.unitNum)+"单元"+t._s(t.complaint.roomNum)+"室")])],1)],1),e("v-uni-view",{staticClass:"cu-item"},[e("v-uni-view",{staticClass:"content"},[e("v-uni-text",{staticClass:"cuIcon-footprint text-green"}),e("v-uni-text",{staticClass:"text-grey"},[t._v("单类型")])],1),e("v-uni-view",{staticClass:"action"},[e("v-uni-text",{staticClass:"text-grey text-sm"},[t._v(t._s(t.complaint.typeCdName)+"单")])],1)],1),e("v-uni-view",{staticClass:"cu-item"},[e("v-uni-view",{staticClass:"content"},[e("v-uni-text",{staticClass:"cuIcon-profile text-green"}),e("v-uni-text",{staticClass:"text-grey"},[t._v("投诉人")])],1),e("v-uni-view",{staticClass:"action"},[e("v-uni-text",{staticClass:"text-grey text-sm"},[t._v(t._s(t.complaint.complaintName))])],1)],1),e("v-uni-view",{staticClass:"cu-item"},[e("v-uni-view",{staticClass:"content"},[e("v-uni-text",{staticClass:"cuIcon-phone text-green"}),e("v-uni-text",{staticClass:"text-grey"},[t._v("投诉电话")])],1),e("v-uni-view",{staticClass:"action"},[e("v-uni-text",{staticClass:"text-grey text-sm"},[t._v(t._s(t.complaint.tel))])],1)],1),e("v-uni-view",{staticClass:"cu-item"},[e("v-uni-view",{staticClass:"content"},[e("v-uni-text",{staticClass:"cuIcon-time text-green"}),e("v-uni-text",{staticClass:"text-grey"},[t._v("投诉时间")])],1),e("v-uni-view",{staticClass:"action"},[e("v-uni-text",{staticClass:"text-grey text-sm"},[t._v(t._s(t.complaint.createTime))])],1)],1),e("v-uni-view",{staticClass:"cu-item"},[e("v-uni-view",{staticClass:"content padding-tb-sm"},[e("v-uni-view",[e("v-uni-text",{staticClass:"cuIcon-comment text-blue margin-right-xs"}),t._v("投诉内容")],1),e("v-uni-view",{staticClass:"text-gray text-sm"},[e("v-uni-text",{staticClass:"cuIcon-infofill margin-right-xs"}),t._v(t._s(t.complaint.context))],1)],1)],1),t.complaint.photos.length>0?e("v-uni-view",{staticClass:"cu-item"},[e("v-uni-view",{staticClass:"margin-top grid text-center col-3 grid-square"},t._l(t.complaint.photos,(function(i,s){return e("v-uni-view",{key:s},[e("v-uni-image",{attrs:{mode:"scaleToFill","data-url":t.srcPath+i.url,src:t.srcPath+i.url},on:{click:function(i){arguments[0]=i=t.$handleEvent(i),t.preview.apply(void 0,arguments)}}})],1)})),1)],1):t._e()],1),e("v-uni-view",{staticClass:"cu-timeline margin-top"},[e("v-uni-view",{staticClass:"cu-time"},[t._v("工单")]),t._l(t.audits,(function(i,s){return e("v-uni-view",{key:s,staticClass:"cu-item "},["1001"==i.state?e("v-uni-view",{staticClass:"bg-cyan content"},[e("v-uni-text",[t._v(t._s(i.auditName)+" 于")]),t._v(t._s(i.auditTime)+" 处理完成")],1):t._e(),"2002"==i.state?e("v-uni-view",{staticClass:"bg-cyan content"},[e("v-uni-text",[t._v(t._s(i.auditName))]),t._v("正在处理")],1):t._e(),"1001"==i.state?e("v-uni-view",{staticClass:"bg-cyan content"},[e("v-uni-text",[t._v("处理意见：")]),t._v(t._s(i.message))],1):t._e()],1)}))],2),e("v-uni-view",{staticClass:"cu-modal",class:t.viewImage?"show":""},[e("v-uni-view",{staticClass:"cu-dialog"},[e("v-uni-view",{staticClass:"bg-img",style:"background-image: url("+t.viewImageSrc+");height:800rpx;"},[e("v-uni-view",{staticClass:"cu-bar justify-end text-white"},[e("v-uni-view",{staticClass:"action",on:{click:function(i){arguments[0]=i=t.$handleEvent(i),t.closeViewImage()}}},[e("v-uni-text",{staticClass:"cuIcon-close "})],1)],1)],1)],1)],1)],1)},n=[];e.d(i,"b",(function(){return a})),e.d(i,"c",(function(){return n})),e.d(i,"a",(function(){return s}))},cf31:function(t,i,e){"use strict";Object.defineProperty(i,"__esModule",{value:!0}),i.default=void 0;var s=e("a293"),a=s.constant,n={data:function(){return{complaintId:"",communityId:"",complaint:{},audits:[],srcPath:"",viewImage:!1,viewImageSrc:""}},onLoad:function(t){var i=t.complaintId;this.srcPath=a.url.baseUrl,console.log("options",t),this.complaintId=i,this.communityId=t.communityId,this._loadCompaint(),this._listWorkflowAuditInfo()},methods:{_loadCompaint:function(t){var i=this,e={complaintId:i.complaintId,page:1,row:1,communityId:i.communityId};s.request({url:a.url.listComplaints,header:s.getHeaders(),method:"GET",data:e,success:function(t){if(200==t.statusCode){var e=t.data.complaints;return console.log("_ownerComplaints",e),void(i.complaint=e[0])}wx.showToast({title:t.data,icon:"none",duration:2e3})},fail:function(t){wx.showToast({title:"服务器异常了",icon:"none",duration:2e3})}})},_listWorkflowAuditInfo:function(t){var i=this,e={businessKey:i.complaintId,communityId:i.communityId};s.request({url:a.url.listWorkflowAuditInfo,header:s.getHeaders(),method:"GET",data:e,success:function(t){var e=t.data;if(0!=e.code)wx.showToast({title:e.msg,icon:"none",duration:2e3});else{var s=e.data;i.audits=s}},fail:function(t){wx.showToast({title:"服务器异常了",icon:"none",duration:2e3})}})},preview:function(t){console.log("图片地址",t);var i=t.target.dataset.url;this.viewImageSrc=i,this.viewImage=!0},closeViewImage:function(){this.viewImage=!1}}};i.default=n},f720:function(t,i,e){"use strict";e.r(i);var s=e("cf31"),a=e.n(s);for(var n in s)"default"!==n&&function(t){e.d(i,t,(function(){return s[t]}))}(n);i["default"]=a.a}}]);