(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["pages-visitorApplicationKey-visitorApplicationKey"],{"11f0":function(t,i,n){"use strict";n.r(i);var a=n("1706"),e=n("2c42");for(var o in e)"default"!==o&&function(t){n.d(i,t,(function(){return e[t]}))}(o);n("fbfa");var s,c=n("f0c5"),r=Object(c["a"])(e["default"],a["b"],a["c"],!1,null,"6ed84948",null,!1,a["a"],s);i["default"]=r.exports},1706:function(t,i,n){"use strict";var a,e=function(){var t=this,i=t.$createElement,n=t._self._c||i;return n("v-uni-view",[n("v-uni-view",{staticClass:"my_ak"},[n("v-uni-view",{staticClass:"my_ak_text_02"},[n("v-uni-text",[t._v(t._s(t.pwd))])],1),n("v-uni-view",{staticClass:"my_ak_text_03"},[n("v-uni-text",[t._v("有效期至"+t._s(t.endTime))])],1),n("v-uni-view",{staticClass:"cu-bar bg-white"},[n("v-uni-view",{staticClass:"action"},[n("v-uni-text",{staticClass:"text-xl text-bold"},[t._v("说明")])],1)],1),n("v-uni-view",{staticClass:"my_ak_text_explain"},[n("v-uni-text",[t._v('1.在门禁机上点击"密码开门"，再输入密码直接开门')])],1),n("v-uni-view",{staticClass:"my_ak_text_explain"},[n("v-uni-text",[t._v("2.该密码能开启的门禁机有："+t._s(t.loactions))])],1),n("v-uni-view",{staticClass:"my_ak_text_explain"},[n("v-uni-text",[t._v("3.该密码只能打开相应门禁两次")])],1)],1)],1)},o=[];n.d(i,"b",(function(){return e})),n.d(i,"c",(function(){return o})),n.d(i,"a",(function(){return a}))},"1f0f":function(t,i,n){var a=n("9f97");"string"===typeof a&&(a=[[t.i,a,""]]),a.locals&&(t.exports=a.locals);var e=n("4f06").default;e("16cc1b62",a,!0,{sourceMap:!1,shadowMode:!1})},"2c42":function(t,i,n){"use strict";n.r(i);var a=n("e108"),e=n.n(a);for(var o in a)"default"!==o&&function(t){n.d(i,t,(function(){return a[t]}))}(o);i["default"]=e.a},"9f97":function(t,i,n){var a=n("24fb");i=a(!1),i.push([t.i,".my_ak[data-v-6ed84948]{margin-top:%?20?%;background-color:#fff;padding:%?40?% %?40?% %?40?% %?40?%}.my_ak .my_ak_text_01[data-v-6ed84948]{text-align:center}.my_ak .my_ak_text_02[data-v-6ed84948]{text-align:center;color:#0a0;font-size:%?56?%;margin:%?40?% 0 %?40?% 0;letter-spacing:%?40?%}.my_ak .my_ak_text_03[data-v-6ed84948]{text-align:center;color:#8a8a8a;font-size:%?24?%}.my_ak .my_ak_text_01 uni-text[data-v-6ed84948]{font-size:%?24?%;color:#8a8a8a}.my_ak .my_ak_text_explain[data-v-6ed84948]{color:#8a8a8a;font-size:%?24?%;margin-bottom:%?20?%}",""]),t.exports=i},e108:function(t,i,n){"use strict";Object.defineProperty(i,"__esModule",{value:!0}),i.default=void 0;var a=n("a293"),e=a.constant,o={data:function(){return{pwd:"请先申请钥匙",loactions:"没有门禁",endTime:"0000-00-00 00:00:00",owner:null,idCard:"",communityId:"",applicationKeys:""}},components:{},props:{},onLoad:function(t){a.onLoad(t)},onReady:function(){},onShow:function(){var t=this;a.getOwner((function(i){var n=i.idCard,a=i.communityId;t.owner=i,t.idCard=n,t.communityId=a,t.applyVisitorApplicationKey()}))},onHide:function(){},onUnload:function(){},onPullDownRefresh:function(){},onReachBottom:function(){},onShareAppMessage:function(){return{title:this.owner.appUserName+"分享的访客钥匙",path:"/pages/visitorApplicationKey/visitorApplicationKey?idCard="+this.owner.idCard+"&communityId="+this.owner.communityId,success:function(t){console.log("成功",t)}}},methods:{loadApplicationKey:function(){var t=this,i={page:1,row:10,idCard:this.idCard,communityId:this.communityId,typeFlag:"1100103"};a.request({url:e.url.listApplicationKeys,header:a.getHeaders(),method:"GET",data:i,success:function(i){if(console.log(i),200==i.statusCode){var n=i.data.applicationKeys;if(0==n.length)return void wx.showToast({title:"未查询到钥匙",icon:"none",duration:2e3});t.applicationKeys=n,t.showPwd()}},fail:function(t){wx.showToast({title:"服务器异常了",icon:"none",duration:2e3})}})},showPwd:function(){for(var t=this.applicationKeys,i="",n="",a="",e=0;e<t.length;e++)"10001"==t[e].state&&(i=t[e].pwd,n+=t[e].locationObjName+",",a=t[e].endTime);""!=i&&(this.pwd=i,this.loactions=n,this.endTime=a)},applyVisitorApplicationKey:function(){var t=this,i={idCard:this.idCard,communityId:this.communityId};a.request({url:e.url.applyVisitorApplicationKey,header:a.getHeaders(),method:"POST",data:i,success:function(i){console.log(i),200==i.statusCode&&t.loadApplicationKey()},fail:function(t){console.log("申请访客钥匙异常",t),wx.showToast({title:"服务器异常了",icon:"none",duration:2e3})}})}}};i.default=o},fbfa:function(t,i,n){"use strict";var a=n("1f0f"),e=n.n(a);e.a}}]);