(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["pages-family-family"],{"166f":function(e,n,t){"use strict";t.r(n);var i=t("a280"),a=t("a5a5");for(var o in a)"default"!==o&&function(e){t.d(n,e,(function(){return a[e]}))}(o);t("1ab7");var s,u=t("f0c5"),r=Object(u["a"])(a["default"],i["b"],i["c"],!1,null,"7743f852",null,!1,i["a"],s);n["default"]=r.exports},"1ab7":function(e,n,t){"use strict";var i=t("aeab"),a=t.n(i);a.a},8860:function(e,n,t){var i=t("24fb");n=i(!1),n.push([e.i,".block__title[data-v-7743f852]{margin:0;font-weight:400;font-size:14px;color:rgba(69,90,100,.6);padding:%?40?% %?30?% %?20?%}.button_up_blank[data-v-7743f852]{height:%?40?%}",""]),e.exports=n},a280:function(e,n,t){"use strict";var i,a=function(){var e=this,n=e.$createElement,t=e._self._c||n;return t("v-uni-view",[t("v-uni-view",{staticClass:"block__title"},[e._v("基本信息")]),t("v-uni-view",{staticClass:"cu-form-group"},[t("v-uni-view",{staticClass:"title"},[e._v("姓名")]),t("v-uni-input",{attrs:{placeholder:"请输入成员名称"},model:{value:e.name,callback:function(n){e.name=n},expression:"name"}})],1),t("v-uni-view",{staticClass:"cu-form-group"},[t("v-uni-view",{staticClass:"title"},[e._v("性别")]),t("v-uni-picker",{attrs:{bindchange:"PickerChange",value:e.index,range:e.sexArr},on:{change:function(n){arguments[0]=n=e.$handleEvent(n),e.sexChange.apply(void 0,arguments)}}},[t("v-uni-view",{staticClass:"picker"},[e._v(e._s("0"==e.sex?"男":"女"))])],1)],1),t("v-uni-view",{staticClass:"cu-form-group"},[t("v-uni-view",{staticClass:"title"},[e._v("年龄")]),t("v-uni-input",{attrs:{placeholder:"请输入年龄"},model:{value:e.age,callback:function(n){e.age=n},expression:"age"}})],1),t("v-uni-view",{staticClass:"cu-form-group"},[t("v-uni-view",{staticClass:"title"},[e._v("身份证")]),t("v-uni-input",{attrs:{placeholder:"请输入身份证"},model:{value:e.idCard,callback:function(n){e.idCard=n},expression:"idCard"}})],1),t("v-uni-view",{staticClass:"block__title"},[e._v("联系信息")]),t("v-uni-view",{staticClass:"cu-form-group"},[t("v-uni-view",{staticClass:"title"},[e._v("手机号")]),t("v-uni-input",{attrs:{placeholder:"请输入手机号"},model:{value:e.link,callback:function(n){e.link=n},expression:"link"}})],1),t("v-uni-view",{staticClass:"cu-form-group"},[t("v-uni-view",{staticClass:"title"},[e._v("验证码")]),t("v-uni-input",{attrs:{placeholder:"请输入短信验证码",name:"input"},model:{value:e.msgCode,callback:function(n){e.msgCode=n},expression:"msgCode"}}),t("v-uni-button",{staticClass:"cu-btn bg-green shadow",attrs:{disabled:e.btnDisabled},on:{click:function(n){arguments[0]=n=e.$handleEvent(n),e.sendMsgCode()}}},[e._v(e._s(e.btnValue))])],1),t("v-uni-view",{staticClass:"cu-form-group margin-top"},[t("v-uni-textarea",{attrs:{placeholder:"请输入备注"},model:{value:e.remark,callback:function(n){e.remark=n},expression:"remark"}})],1),t("v-uni-view",{staticClass:"flex flex-direction margin-top margin-bottom"},[t("v-uni-button",{staticClass:"cu-btn bg-green margin-tb-sm lg",on:{click:function(n){arguments[0]=n=e.$handleEvent(n),e.submitOwnerMember()}}},[e._v("提交")])],1)],1)},o=[];t.d(n,"b",(function(){return a})),t.d(n,"c",(function(){return o})),t.d(n,"a",(function(){return i}))},a5a5:function(e,n,t){"use strict";t.r(n);var i=t("e5f4"),a=t.n(i);for(var o in i)"default"!==o&&function(e){t.d(n,e,(function(){return i[e]}))}(o);n["default"]=a.a},aeab:function(e,n,t){var i=t("8860");"string"===typeof i&&(i=[[e.i,i,""]]),i.locals&&(e.exports=i.locals);var a=t("4f06").default;a("cbccb152",i,!0,{sourceMap:!1,shadowMode:!1})},e5f4:function(e,n,t){"use strict";var i=t("ee27");t("d3b7"),Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var a=i(t("fc11")),o=t("a293"),s=o.constant,u={data:function(){var e;return e={sexArr:["男","女"],sexShow:!1,sex:"0",name:"",link:"",remark:"",ownerId:"",userId:"",ownerTypeCd:"1002",idCard:"",age:"",memberId:"-1",communityId:""},(0,a.default)(e,"remark",""),(0,a.default)(e,"second",60),(0,a.default)(e,"btnDisabled",!1),(0,a.default)(e,"btnValue","验证码"),(0,a.default)(e,"msgCode",""),e},onLoad:function(e){var n=this;o.onLoad(e),o.getOwner((function(e){n.ownerId=e.memberId,n.communityId=e.communityId}))},onReady:function(){},onShow:function(){},onHide:function(){},onUnload:function(){},onPullDownRefresh:function(){},methods:{submitOwnerMember:function(e){console.log("this",this);var n={sex:this.sex,name:this.name,link:this.link,remark:this.remark,ownerId:this.ownerId,userId:this.userId,ownerTypeCd:this.ownerTypeCd,age:this.age,memberId:this.memberId,communityId:this.communityId,idCard:this.idCard,msgCode:this.msgCode},t="";""==n.ownerId?t="请填写业主":""==n.name?t="请填写姓名":""==n.age?t="请填写年龄":""==n.idCard?t="请填写身份证":""==n.link?t="请填写手机号":""==n.msgCode&&(t="请填写验证码"),""!=t?uni.showToast({title:t,icon:"none",duration:2e3}):(uni.showLoading({title:"提交中"}),console.log("提交数据",n),o.request({url:s.url.saveOwner,header:o.getHeaders(),method:"POST",data:n,success:function(e){if(console.log(e,99999),200==e.statusCode)return uni.hideLoading(),void uni.navigateBack();uni.hideLoading(),uni.showToast({title:e.data,icon:"none",duration:2e3})},fail:function(e){uni.hideLoading(),uni.showToast({title:"服务器异常了",icon:"none",duration:2e3})}}))},sexChange:function(e){console.log("onConfirm",e),this.sex=e.detail.value},sendMsgCode:function(){console.log("获取验证码");var e=this,n={tel:this.link};""!=n.tel?uni.request({url:s.url.userSendSms,header:o.getHeaders(),method:"POST",data:n,success:function(n){if(console.log(n),200==n.statusCode)return wx.showToast({title:"验证码下发成功",icon:"none",duration:2e3}),wx.hideLoading(),void e.timer();wx.hideLoading(),wx.showToast({title:n.data,icon:"none",duration:2e3})},fail:function(e){wx.hideLoading(),wx.showToast({title:"服务器异常了",icon:"none",duration:2e3})}}):wx.showToast({title:"请输入手机号",icon:"none",duration:2e3})},timer:function(){var e=this,n=new Promise((function(n,t){var i=setInterval((function(){var t=e.second-1;e.second=t,e.btnValue=t+"秒",e.btnDisabled=!0,e.second<=0&&(e.second=60,e.btnValue="获取验证码",e.btnDisabled=!1,n(i))}),1e3)}));n.then((function(e){clearInterval(e)}))}}};n.default=u}}]);