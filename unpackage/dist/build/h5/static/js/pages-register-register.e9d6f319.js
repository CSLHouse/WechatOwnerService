(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["pages-register-register"],{"14dd":function(e,t,a){"use strict";a.r(t);var i=a("8324"),n=a.n(i);for(var o in i)"default"!==o&&function(e){a.d(t,e,(function(){return i[e]}))}(o);t["default"]=n.a},"44ca":function(e,t,a){var i=a("9489");"string"===typeof i&&(i=[[e.i,i,""]]),i.locals&&(e.exports=i.locals);var n=a("4f06").default;n("6a824b31",i,!0,{sourceMap:!1,shadowMode:!1})},8324:function(e,t,a){"use strict";var i=a("ee27");a("4160"),a("d3b7"),a("159b"),Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=i(a("9529")),o=a("7b36"),s=o.constant,r={components:{pickerAddress:n.default},data:function(){return{title:"Hello",areaCode:"",areaName:"请选择地区",communityName:"",communityId:"",appUserName:"",idCard:"",link:"",second:60,msgCode:"",areaShow:!1,btnValue:"验证码",btnDisabled:!1,password:"",rePassword:"",areaList:{province_list:{},city_list:{},county_list:{}}}},onLoad:function(e){var t=this,a=o.getLocation(),i=o.getCurrentLocation(),n=i.city+i.district,s=i.adcode;o._loadArea("","",(function(e){t.areaList=e,t.communityName=a,t.areaCode=s,t.areaName=n}))},onReady:function(){},onShow:function(){if(""==this.areaCode||void 0==this.areaCode){var e=o.getCurrentLocation(),t=e.city+e.district,a=e.adcode;this.areaCode=a,this.areaName=t}else{var i=uni.getStorageSync("_selectCommunity");console.log("community",i),null!=i&&void 0!=i&&(this.communityId=i.communityId,this.communityName=i.name)}},onHide:function(){},onUnload:function(){},onPullDownRefresh:function(){},onReachBottom:function(){},onShareAppMessage:function(){},methods:{sendMsgCode:function(){console.log("获取验证码");var e=this,t={tel:this.link};""!=t.tel?(uni.showLoading({title:"加载中",mask:!0}),uni.request({url:s.url.userSendSms,header:o.getHeaders(),method:"POST",data:t,success:function(t){if(console.log(t),uni.hideLoading(),200==t.statusCode)return wx.showToast({title:"验证码下发成功",icon:"none",duration:2e3}),wx.hideLoading(),void e.timer();wx.hideLoading(),wx.showToast({title:t.data,icon:"none",duration:2e3})},fail:function(e){wx.hideLoading(),wx.showToast({title:"服务器异常了",icon:"none",duration:2e3})}})):wx.showToast({title:"请输入手机号",icon:"none",duration:2e3})},_doRegister:function(e){var t={areaCode:this.areaCode,communityId:this.communityId,communityName:this.communityName,appUserName:this.appUserName,idCard:this.idCard,link:this.link,msgCode:this.msgCode,password:this.password,openId:uni.getStorageSync(s.mapping.CURRENT_OPEN_ID)},a="";""==this.password||this.password!=this.rePassword?a="密码和重置密码不一致":""==t.areaCode?a="请选择地区":""==t.communityName?a="请填写小区名称":""==t.appUserName?a="请填写业主名称":""==t.link?a="请填写手机号":""==t.msgCode&&(a="请填写验证码"),""!=a?wx.showToast({title:a,icon:"none",duration:2e3}):(console.log("提交数据",t),uni.showLoading({title:"加载中",mask:!0}),uni.request({url:s.url.ownerRegiter,header:o.getHeaders(),method:"POST",data:t,success:function(e){console.log(e);var t=e.data;if(wx.hideLoading(),0==t.code)return wx.hideLoading(),void wx.redirectTo({url:"/pages/login/login"});wx.showToast({title:t.msg,icon:"none",duration:2e3})},fail:function(e){wx.hideLoading(),wx.showToast({title:"服务器异常了",icon:"none",duration:2e3})}}))},change:function(e){var t=this;t.areaName="",e.data.forEach((function(e){t.areaName+=e.name})),t.areaCode=e.data[2].code,console.log(e)},chooseCommunity:function(e){""!=this.areaCode&&void 0!=this.areaCode?wx.navigateTo({url:"/pages/viewCommunitys/viewCommunitys?areaCode="+this.areaCode}):wx.showToast({title:"请先选择地区",icon:"none"})},timer:function(){var e=this,t=new Promise((function(t,a){var i=setInterval((function(){var a=e.second-1;e.second=a,e.btnValue=a+"秒",e.btnDisabled=!0,e.second<=0&&(e.second=60,e.btnValue="获取验证码",e.btnDisabled=!1,t(i))}),1e3)}));t.then((function(e){clearInterval(e)}))}}};t.default=r},9489:function(e,t,a){var i=a("24fb");t=i(!1),t.push([e.i,".block__title[data-v-088285b4]{margin:0;font-weight:400;font-size:14px;color:rgba(69,90,100,.6);padding:%?40?% %?30?% %?20?%}.button_up_blank[data-v-088285b4]{height:%?40?%;text-align:center}",""]),e.exports=t},d569:function(e,t,a){"use strict";var i={pickerAddress:a("9529").default},n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-uni-view",[a("v-uni-view",{staticClass:"block__title"},[e._v("选择小区")]),a("v-uni-view",{staticClass:"cu-form-group arrow"},[a("v-uni-view",{staticClass:"title"},[e._v("市/区")]),a("pickerAddress",{on:{change:function(t){arguments[0]=t=e.$handleEvent(t),e.change.apply(void 0,arguments)}}},[e._v(e._s(e.areaName))]),a("v-uni-text",{staticClass:"cuIcon-right"})],1),a("v-uni-view",{staticClass:"cu-form-group",on:{click:function(t){arguments[0]=t=e.$handleEvent(t),e.chooseCommunity.apply(void 0,arguments)}}},[a("v-uni-view",{staticClass:"title"},[e._v("小区名称")]),a("v-uni-input",{attrs:{required:!0,readonly:!0,label:"小区名称",placeholder:"请选择小区",name:"communityName",icon:"arrow"},model:{value:e.communityName,callback:function(t){e.communityName=t},expression:"communityName"}}),a("v-uni-text",{staticClass:"cuIcon-right"})],1),a("v-uni-view",{staticClass:"block__title"},[e._v("完善业主")]),a("v-uni-view",{staticClass:"cu-form-group"},[a("v-uni-view",{staticClass:"title"},[e._v("姓名")]),a("v-uni-input",{attrs:{required:!0,label:"姓名",clearable:!0,placeholder:"请输入名称",name:"appUserName"},model:{value:e.appUserName,callback:function(t){e.appUserName=t},expression:"appUserName"}})],1),a("v-uni-view",{staticClass:"cu-form-group"},[a("v-uni-view",{staticClass:"title"},[e._v("身份证")]),a("v-uni-input",{attrs:{required:!0,label:"身份证",clearable:!0,placeholder:"请输入身份证",name:"idCard"},model:{value:e.idCard,callback:function(t){e.idCard=t},expression:"idCard"}})],1),a("v-uni-view",{staticClass:"cu-form-group"},[a("v-uni-view",{staticClass:"title"},[e._v("密码")]),a("v-uni-input",{attrs:{required:!0,type:"password",label:"密码",clearable:!0,placeholder:"请输入密码"},model:{value:e.password,callback:function(t){e.password=t},expression:"password"}})],1),a("v-uni-view",{staticClass:"cu-form-group"},[a("v-uni-view",{staticClass:"title"},[e._v("确认密码")]),a("v-uni-input",{attrs:{required:!0,type:"password",label:"确认密码",clearable:!0,placeholder:"请输入确认密码"},model:{value:e.rePassword,callback:function(t){e.rePassword=t},expression:"rePassword"}})],1),a("v-uni-view",{staticClass:"cu-form-group"},[a("v-uni-view",{staticClass:"title"},[e._v("手机号")]),a("v-uni-input",{attrs:{required:!0,label:"手机号",clearable:!0,placeholder:"请输入手机号"},model:{value:e.link,callback:function(t){e.link=t},expression:"link"}})],1),a("v-uni-view",{staticClass:"cu-form-group"},[a("v-uni-view",{staticClass:"title"},[e._v("验证码")]),a("v-uni-input",{attrs:{placeholder:"请输入短信验证码",name:"input"},model:{value:e.msgCode,callback:function(t){e.msgCode=t},expression:"msgCode"}}),a("v-uni-button",{staticClass:"cu-btn bg-green shadow",attrs:{disabled:e.btnDisabled},on:{click:function(t){arguments[0]=t=e.$handleEvent(t),e.sendMsgCode()}}},[e._v(e._s(e.btnValue))])],1),a("v-uni-view",{staticClass:"padding flex flex-direction margin-top"},[a("v-uni-button",{staticClass:"cu-btn bg-green   lg",on:{click:function(t){arguments[0]=t=e.$handleEvent(t),e._doRegister()}}},[e._v("注册")])],1)],1)},o=[];a.d(t,"b",(function(){return n})),a.d(t,"c",(function(){return o})),a.d(t,"a",(function(){return i}))},d973:function(e,t,a){"use strict";a.r(t);var i=a("d569"),n=a("14dd");for(var o in n)"default"!==o&&function(e){a.d(t,e,(function(){return n[e]}))}(o);a("f38d");var s,r=a("f0c5"),c=Object(r["a"])(n["default"],i["b"],i["c"],!1,null,"088285b4",null,!1,i["a"],s);t["default"]=c.exports},f38d:function(e,t,a){"use strict";var i=a("44ca"),n=a.n(i);n.a}}]);