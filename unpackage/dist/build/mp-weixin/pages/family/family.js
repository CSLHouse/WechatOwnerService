(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["pages/family/family"],{8780:function(e,n,t){"use strict";(function(e){function o(e,n,t){return n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var i=t("3035"),a=i.constant,r={data:function(){var e;return e={sexArr:["男","女"],sexShow:!1,sex:"0",name:"",link:"",remark:"",ownerId:"",userId:"",ownerTypeCd:"1002",idCard:"",age:"",memberId:"-1",communityId:""},o(e,"remark",""),o(e,"second",60),o(e,"btnDisabled",!1),o(e,"btnValue","验证码"),o(e,"msgCode",""),e},onLoad:function(e){var n=this;i.onLoad(e),i.getOwner((function(e){n.ownerId=e.memberId,n.communityId=e.communityId}))},onReady:function(){},onShow:function(){},onHide:function(){},onUnload:function(){},onPullDownRefresh:function(){},methods:{submitOwnerMember:function(n){console.log("this",this);var t={sex:this.sex,name:this.name,link:this.link,remark:this.remark,ownerId:this.ownerId,userId:this.userId,ownerTypeCd:this.ownerTypeCd,age:this.age,memberId:this.memberId,communityId:this.communityId,idCard:this.idCard,msgCode:this.msgCode},o="";""==t.ownerId?o="请填写业主":""==t.name?o="请填写姓名":""==t.age?o="请填写年龄":""==t.idCard?o="请填写身份证":""==t.link?o="请填写手机号":""==t.msgCode&&(o="请填写验证码"),""!=o?e.showToast({title:o,icon:"none",duration:2e3}):(e.showLoading({title:"提交中"}),console.log("提交数据",t),i.request({url:a.url.saveOwner,header:i.getHeaders(),method:"POST",data:t,success:function(n){if(console.log(n,99999),200==n.statusCode)return e.hideLoading(),void e.navigateBack();e.hideLoading(),e.showToast({title:n.data,icon:"none",duration:2e3})},fail:function(n){e.hideLoading(),e.showToast({title:"服务器异常了",icon:"none",duration:2e3})}}))},sexChange:function(e){console.log("onConfirm",e),this.sex=e.detail.value},sendMsgCode:function(){console.log("获取验证码");var n=this,t={tel:this.link};""!=t.tel?e.request({url:a.url.userSendSms,header:i.getHeaders(),method:"POST",data:t,success:function(e){if(console.log(e),200==e.statusCode)return wx.showToast({title:"验证码下发成功",icon:"none",duration:2e3}),wx.hideLoading(),void n.timer();wx.hideLoading(),wx.showToast({title:e.data,icon:"none",duration:2e3})},fail:function(e){wx.hideLoading(),wx.showToast({title:"服务器异常了",icon:"none",duration:2e3})}}):wx.showToast({title:"请输入手机号",icon:"none",duration:2e3})},timer:function(){var e=this,n=new Promise((function(n,t){var o=setInterval((function(){var t=e.second-1;e.second=t,e.btnValue=t+"秒",e.btnDisabled=!0,e.second<=0&&(e.second=60,e.btnValue="获取验证码",e.btnDisabled=!1,n(o))}),1e3)}));n.then((function(e){clearInterval(e)}))}}};n.default=r}).call(this,t("543d")["default"])},b158:function(e,n,t){},b9907:function(e,n,t){"use strict";var o=t("b158"),i=t.n(o);i.a},cb9c:function(e,n,t){"use strict";var o,i=function(){var e=this,n=e.$createElement;e._self._c},a=[];t.d(n,"b",(function(){return i})),t.d(n,"c",(function(){return a})),t.d(n,"a",(function(){return o}))},ec29:function(e,n,t){"use strict";t.r(n);var o=t("cb9c"),i=t("f2be");for(var a in i)"default"!==a&&function(e){t.d(n,e,(function(){return i[e]}))}(a);t("b9907");var r,s=t("f0c5"),d=Object(s["a"])(i["default"],o["b"],o["c"],!1,null,null,null,!1,o["a"],r);n["default"]=d.exports},f2be:function(e,n,t){"use strict";t.r(n);var o=t("8780"),i=t.n(o);for(var a in o)"default"!==a&&function(e){t.d(n,e,(function(){return o[e]}))}(a);n["default"]=i.a},f9b7:function(e,n,t){"use strict";(function(e){t("42b7");o(t("66fd"));var n=o(t("ec29"));function o(e){return e&&e.__esModule?e:{default:e}}e(n.default)}).call(this,t("543d")["createPage"])}},[["f9b7","common/runtime","common/vendor"]]]);