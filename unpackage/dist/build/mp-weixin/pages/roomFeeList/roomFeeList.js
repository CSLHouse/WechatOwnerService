(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["pages/roomFeeList/roomFeeList"],{"35ca":function(e,t,n){"use strict";(function(e){n("42b7");o(n("66fd"));var t=o(n("7ad1"));function o(e){return e&&e.__esModule?e:{default:e}}e(t.default)}).call(this,n("543d")["createPage"])},"3d4d":function(e,t,n){"use strict";var o={noDataPage:function(){return n.e("components/no-data-page/no-data-page").then(n.bind(null,"5948"))}},a=function(){var e=this,t=e.$createElement;e._self._c},r=[];n.d(t,"b",(function(){return a})),n.d(t,"c",(function(){return r})),n.d(t,"a",(function(){return o}))},"3e1e":function(e,t,n){"use strict";var o=n("5ced"),a=n.n(o);a.a},"5ced":function(e,t,n){},"7ad1":function(e,t,n){"use strict";n.r(t);var o=n("3d4d"),a=n("7c77");for(var r in a)"default"!==r&&function(e){n.d(t,e,(function(){return a[e]}))}(r);n("3e1e");var i,u=n("f0c5"),c=Object(u["a"])(a["default"],o["b"],o["c"],!1,null,null,null,!1,o["a"],i);t["default"]=c.exports},"7c77":function(e,t,n){"use strict";n.r(t);var o=n("97e4"),a=n.n(o);for(var r in o)"default"!==r&&function(e){n.d(t,e,(function(){return o[e]}))}(r);t["default"]=a.a},"97e4":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=n("3035"),a=o.constant,r=o.util,i=function(){n.e("components/no-data-page/no-data-page").then(function(){return resolve(n("5948"))}.bind(null,n)).catch(n.oe)},u={data:function(){return{rooms:[],curRoom:{},moreRooms:[],needFefresh:!0,noData:!1}},components:{noDataPage:i},onLoad:function(e){o.onLoad(e)},onShow:function(){var e=this,t=this;this.needFefresh?(this.noData=!1,o.getRooms().then((function(n){var o=n.data.rooms;e.rooms=o;var a=n.data.owner;t.moreRooms=[],0!=o.length?(o.forEach((function(e){e.communityId=a.communityId,e.communityName=a.communityName})),t.curRoom=o[0],t._loadRoomFee()):t.noData=!0}))):this.needFefresh=!0},methods:{payFee:function(e){wx.navigateTo({url:"/pages/roomFee/roomFee?fee="+JSON.stringify(e)})},_loadRoomFee:function(){var e=this,t=this.curRoom,n={page:1,row:30,payerObjId:t.roomId,feeTypeCd:"888800010001",communityId:t.communityId,state:"2008001"};e.moreRooms=[],o.request({url:a.url.queryFeeByOwner,header:o.getHeaders(),method:"GET",data:n,success:function(n){if(200==n.statusCode){var o=n.data.fees;o.length<1&&(e.noData=!0),o.forEach((function(n){var o=n.endTime.replace(/\-/g,"/"),a=new Date(o),i=JSON.parse(JSON.stringify(t));i.endTime=r.date.formatDate(a);var u=new Date;i.feeStateName=a>u?"正常":"欠费",i.additionalAmount=n.additionalAmount,i.squarePrice=n.squarePrice,i.amount=n.feePrice,i.feeId=n.feeId,i.feeName=n.feeName,i.feeFlag=n.feeFlag,i.paymentCycle=n.paymentCycle,e.moreRooms.push(i)}))}},fail:function(e){wx.showToast({title:"服务器异常了",icon:"none",duration:2e3})}})},payFeeDetail:function(e){wx.navigateTo({url:"/pages/payFeeDetail/payFeeDetail?fee="+JSON.stringify(e)})},switchRoom:function(e){this.curRoom=e,this.noData=!1,this._loadRoomFee()}}};t.default=u}},[["35ca","common/runtime","common/vendor"]]]);